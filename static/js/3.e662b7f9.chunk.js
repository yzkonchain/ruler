(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[3],{261:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var j=n(15),u=n(22),h=n(17),f=n(0),x=n(12),p=n(85),O=n(3),w=h.ethers.constants.Zero,m={bond:w,want:w,I:{bond:"",want:""},old:{bond:"",want:""}},y=function(e,t){return h.ethers.utils.formatUnits(e,t||18)};function a(){Object(f.useContext)(x.d).state.controller;var e=Object(f.useContext)(x.e),t=e.liteState,n=t.pool,a=t.bond,i=t.want,c=(t.coll,t.data),r=e.classesChild,l=e.handleClick,e=Object(f.useReducer)(function(e,t){return Object(j.a)(Object(j.a)({},e),t)},m),e=Object(u.a)(e,2),s=e[0],o=e[1],e=Object(f.useState)(""),e=Object(u.a)(e,2),d=e[0],b=e[1];return Object(f.useEffect)(function(){return s==m||o(m)},[n]),Object(f.useEffect)(function(){var e=(e=s.I.want,h.ethers.utils.parseUnits(e||"0",18));e.eq(s.want)||(e.gt(c.balance.want)&&b("Insufficient Balance"),o({want:e,bond:e,I:Object(j.a)(Object(j.a)({},s.I),{},{bond:y(e)})}))},[s.I]),Object(f.useMemo)(function(){return Object(O.jsxs)("div",{className:r.root,children:[Object(O.jsx)("div",{className:r.tip,style:{backgroundColor:"#DDC5C0",color:"#191919",padding:"10px",fontFamily:"Gillsans",marginTop:"5px"},children:Object(O.jsxs)("ul",{style:{lineHeight:"25px",paddingInlineStart:"20px",marginBlockStart:0,marginBlockEnd:0},children:[Object(O.jsx)("li",{children:"The term of this loan is 2 years. Before its expiry, borrower can withdraw all collateral RULER without any loss or fee."}),Object(O.jsx)("li",{children:"After expiry, borrower will not be able to withdraw collateral and can only keep cCOLLAR."}),Object(O.jsx)("li",{children:x.k.fee})]})}),Object(O.jsxs)("div",{className:r.amount,children:[Object(O.jsx)("div",{children:Object(O.jsx)(p.a,{title:"want",State:{state:s,setState:o,token:i,max:c.balance.want,if_max:c.balance.want.gt("0")},style:{height:"50px"}})}),Object(O.jsx)("span",{className:r.icon_arrow,children:"navigate_next"}),Object(O.jsx)(p.b,{title:"bond",State:{state:s,token:a,max:c.balance.bond},style:{height:"50px"}})]}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(O.jsx)("div",{style:{fontFamily:"Helvetica",fontSize:"14px",color:"red"},children:d}),Object(O.jsx)(p.c,{apy:parseFloat(c.apy).toPrecision(3),info:"APY is the fixed-rate lending interest received by\n          lender. This is the total cost for the 2-year-duration\n          loan. When lender exits before the expiry date, the\n          interest earned for the remainder of the loan at that\n          moment will be deducted in COLLAR.\n          "})]}),Object(O.jsx)("div",{className:r.button,children:Object(O.jsx)("div",{children:c.allowance.want.gt("100000000000000000000000000000000")||!n.ct.signer?Object(O.jsx)(p.f,{name:"Repay",onClick:function(){return l("repaywithwant")(s.want).then(function(){return o({I:{bond:"",want:""}})})},disabled:w.eq(s.bond)}):Object(O.jsx)(p.f,{name:"Approve",onClick:function(){return l("approve")(i)}})})})]})},[s,c,d])}}}]);