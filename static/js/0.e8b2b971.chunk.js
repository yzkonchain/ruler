(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[0],{266:function(t,n,e){"use strict";e.r(n),e.d(n,"default",function(){return c});var l=e(13),u=e(17),a=e(19),j=e(0),w=e(11),f=e(101),h=e(3),O=a.ethers.constants.Zero,x={bond:O,want:O,I:{bond:"",want:""},old:{bond:"",want:""}},I=function(t,n){return a.ethers.utils.formatUnits(t,n||18)},m=function(t,n){return a.ethers.utils.parseUnits(t||"0",n||18)};function c(){var e=Object(j.useContext)(w.e).state.controller,t=Object(j.useContext)(w.f),n=t.liteState,a=n.pool,c=n.bond,o=n.want,b=(n.coll,n.data),s=t.classesChild,i=t.handleClick,t=Object(j.useReducer)(function(t,n){return Object(l.a)(Object(l.a)({},t),n)},x),t=Object(u.a)(t,2),r=t[0],d=t[1];return Object(j.useEffect)(function(){return r==x||d(x)},[a]),Object(j.useEffect)(function(){var n=m(r.I.bond),t=m(r.I.want);n.eq(r.bond)?t.eq(r.want)||d({bond:t,want:t,I:Object(l.a)(Object(l.a)({},r.I),{},{bond:I(t)})}):a.ct.get_dy(n).then(function(t){return d({bond:n,want:t,I:Object(l.a)(Object(l.a)({},r.I),{},{want:I(t)})})}).catch(function(){r.I.bond.length>r.old.bond.length&&r.I.bond.length<I(r.bond).length&&e.notify("balance","insufficient")})},[r.I]),Object(j.useMemo)(function(){return Object(h.jsxs)("div",{className:s.root,children:[Object(h.jsxs)("div",{className:s.amount,children:[Object(h.jsx)("div",{children:Object(h.jsx)(f.a,{title:"bond",State:{state:r,setState:d,token:c,max:b.balance.bond,if_max:b.allowance.bond.gt("100000000000000000000000000000000")},style:{height:"90px"}})}),Object(h.jsx)("span",{className:s.icon,children:"swap_horiz"}),Object(h.jsx)(f.a,{title:"want",State:{state:r,setState:d,token:o,max:b.balance.want,if_max:b.allowance.want.gt("100000000000000000000000000000000")},style:{height:"90px"}})]}),Object(h.jsx)("div",{className:s.buttonOne,children:Object(h.jsxs)("div",{children:[Object(h.jsx)(f.d,{name:"Borrow",onClick:function(){return i("borrow")(r.bond,r.want).then(function(){return d({I:{bond:"",want:""}})})},disabled:O.eq(r.want)||m(r.I.bond).gt(b.balance.bond)||!m(r.I.bond).eq(r.bond)}),Object(h.jsx)(f.d,{name:"Repay",onClick:function(){return i("repay")(r.want).then(function(){return d({I:{bond:"",want:""}})})},disabled:O.eq(r.bond)||m(r.I.want).gt(b.balance.want)||!m(r.I.want).eq(r.want)})]})})]})},[r,b])}}}]);