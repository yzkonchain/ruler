(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[2],{260:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});var j=n(15),h=n(22),u=n(17),f=n(0),x=n(12),O=n(85),p=n(3),m=u.ethers.constants.Zero,y={bond:m,coll:m,I:{bond:"",coll:""},old:{bond:"",coll:""}},g=function(e,t){return u.ethers.utils.formatUnits(e,t||18)};function l(){Object(f.useContext)(x.d).state.controller;var e=Object(f.useContext)(x.e),t=e.liteState,n=t.pool,l=t.bond,a=(t.want,t.coll),c=t.data,i=e.classesChild,o=e.handleClick,e=Object(f.useReducer)(function(e,t){return Object(j.a)(Object(j.a)({},e),t)},y),e=Object(h.a)(e,2),r=e[0],s=e[1],e=Object(f.useState)(""),e=Object(h.a)(e,2),d=e[0],b=e[1];return Object(f.useEffect)(function(){return r==y||s(y)},[n]),Object(f.useEffect)(function(){var e=(e=r.I.coll,u.ethers.utils.parseUnits(e||"0",18));e.eq(r.coll)||(e.gt(c.balance.coll)&&b("Insufficient Balance"),s({coll:e,bond:e,I:Object(j.a)(Object(j.a)({},r.I),{},{bond:g(e)})}))},[r.I]),Object(f.useMemo)(function(){return Object(p.jsxs)("div",{className:i.root,children:[Object(p.jsx)("div",{className:i.tip,style:{backgroundColor:"#DDC5C0",color:"#191919",padding:"10px",fontFamily:"Gillsans",marginTop:"5px"},children:Object(p.jsxs)("ul",{style:{lineHeight:"25px",paddingInlineStart:"20px",marginBlockStart:0,marginBlockEnd:0},children:[Object(p.jsx)("li",{children:"The term of this loan is 2 years. Before its expiry, borrower can withdraw all collateral RULER without any loss or fee."}),Object(p.jsx)("li",{children:"After expiry, borrower/lender can claim collateral RULER and some cCOLLAR according to repay status. The total amount withdrew will be the same as COLL amount."}),Object(p.jsx)("li",{children:x.k.fee})]})}),Object(p.jsxs)("div",{className:i.amount,children:[Object(p.jsx)("div",{children:Object(p.jsx)(O.a,{title:"coll",State:{state:r,setState:s,token:a,max:c.balance.coll,if_max:c.balance.coll.gt("0")},style:{height:"50px"}})}),Object(p.jsx)("span",{className:i.icon_arrow,children:"navigate_next"}),Object(p.jsx)(O.b,{title:"bond",State:{state:r,token:l,max:c.balance.bond},style:{height:"50px"}})]}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(p.jsx)("div",{style:{fontFamily:"Helvetica",fontSize:"14px",color:"red"},children:d}),Object(p.jsx)(O.c,{apy:parseFloat(c.apy).toPrecision(3),info:"APY is the fixed-rate lending interest received by\n          lender. This is the total cost for the 2-year-duration\n          loan. When lender exits before the expiry date, the\n          interest earned for the remainder of the loan at that\n          moment will be deducted in COLLAR.\n          "})]}),Object(p.jsx)("div",{className:i.button,children:Object(p.jsx)("div",{children:Object(p.jsx)(O.f,{name:"Repay",onClick:function(){return o("repaywithcoll")(r.coll).then(function(){return s({I:{bond:"",coll:""}})})},disabled:m.eq(r.bond)||!n.ct.signer})})})]})},[r,c,d])}}}]);