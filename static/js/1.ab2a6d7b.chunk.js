(this.webpackJsonprebuild=this.webpackJsonprebuild||[]).push([[1],{267:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return l});var b=n(13),d=n(17),c=n(19),h=n(0),j=n(11),f=n(101),w=n(3),O=c.ethers.constants.Zero,x={coll:O,want:O,I:{coll:"",want:""},old:{coll:"",want:""}},I=function(t,e){return c.ethers.utils.formatUnits(t,e||18)},g=function(t,e){return c.ethers.utils.parseUnits(t||"0",e||18)};function l(){var t=Object(h.useContext)(j.e).state,c=(t.signer,t.controller),e=Object(h.useContext)(j.f),t=e.liteState,n=(t.bond,t.want),l=t.coll,a=t.pool,o=t.data,i=e.classesChild,s=e.handleClick,e=Object(h.useReducer)(function(t,e){return Object(b.a)(Object(b.a)({},t),e)},x),e=Object(d.a)(e,2),r=e[0],u=e[1];return Object(h.useEffect)(function(){return r==x||u(x)},[a]),Object(h.useEffect)(function(){var e=g(r.I.coll),n=g(r.I.want);n.eq(r.want)?e.eq(r.coll)||a.ct.get_dy(e).then(function(t){u({coll:e,want:t,I:Object(b.a)(Object(b.a)({},r.I),{},{want:I(t)})})}).catch(function(){r.I.coll.length>r.old.coll.length&&r.I.coll.length<I(r.coll).length&&c.notify("balance","insufficient")}):a.ct.get_dx(n).then(function(t){u({coll:t,want:n,I:Object(b.a)(Object(b.a)({},r.I),{},{coll:I(t)})})}).catch(function(){r.I.want.length>r.old.want.length&&r.I.want.length<I(r.want).length&&c.notify("balance","insufficient")})},[r.I]),Object(h.useMemo)(function(){return Object(w.jsxs)("div",{className:i.root,children:[Object(w.jsxs)("div",{className:i.amount,children:[Object(w.jsx)("div",{children:Object(w.jsx)(f.a,{title:"want",State:{state:r,setState:u,token:n,max:o.balance.want,if_max:o.allowance.want.gt("100000000000000000000000000000000")},style:{height:"90px"}})}),Object(w.jsx)("span",{className:i.icon,children:"swap_horiz"}),Object(w.jsx)(f.a,{title:"coll",State:{state:r,setState:u,token:l,max:o.balance.coll,if_max:o.balance.coll.gt("0")},style:{height:"90px"}})]}),Object(w.jsx)("div",{className:i.buttonOne,children:Object(w.jsxs)("div",{children:[Object(w.jsx)(f.d,{name:"Lend",onClick:function(){return s("lend")(r.want).then(function(){return u({I:{coll:"",want:""}})})},disabled:O.eq(r.coll)||g(r.I.want).gt(o.balance.want)||!g(r.I.want).eq(r.want)}),Object(w.jsx)(f.d,{name:"Exit",onClick:function(){return s("redeem")(r.coll).then(function(){return u({I:{coll:"",want:""}})})},disabled:O.eq(r.want)||g(r.I.coll).gt(o.balance.coll)||!g(r.I.coll).eq(r.coll)})]})})]})},[r,o])}}}]);